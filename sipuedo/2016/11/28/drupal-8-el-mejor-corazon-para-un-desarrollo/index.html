<!DOCTYPE html>
<html class="no-js" lang="es">

<head>
	<meta charset="utf-8">
	<title>Drupal 8, el mejor corazón para un desarrollo / Javier Matíes</title>
	<meta name="author" content="">



	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/theme/favicon/favicon.ico" rel="icon">
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=PT+Serif&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="/theme/css/all.css" />
</head>

<body class="font-ptserif text-xl">
    <header role="banner">
        <h1 class="hidden">Javier Matíes</h1>
        <nav role="navigation"><nav class="w-full py-3 px-8 bg-white bg-opacity-90 border-b border-gray-200 fixed z-10" role="navigation">
  <div class="w-full flex justify-between items-center">
    <p class="text-lg "><a title="Volver al inicio" href="/"
        class="text-black">javier<span class="font-extrabold">matíes</span></a></p>
    <div class="flex gap-3 md:gap-6">
      <ul class="text-base flex gap-8">
        <!-- <li>
          <a class="block text-black" href="/sobre-mi">Sobre mi</a>
        </li> -->
        <li>
          <a class="block text-black" href="/sipuedo">Blog</a>
        </li>
      </ul>
    </div>
  </div>
</nav></nav>
    </header>
    <div id="main">
        <div id="content" class="container mx-auto">
            <div class="pb-10 lg:pb-20 pt-20 lg:pt-32">
    <article class="px-4 md:px-0" role="article">
    <header>
        <p class="meta text-sm uppercase"><time datetime="2016-11-28T20:19:09.933000+00:00" pubdate>lun 28 noviembre 2016</time>
</p>
        <h2 class="text-2xl md:text-3xl">
            Drupal 8, el mejor corazón para un desarrollo
        </h2>
    </header>

    <div class="entry-content mt-8 lg:mt-12 flex flex-col lg:flex-row gap-8 lg:gap-24">
        <div class="w-full lg:w-8/12 prose">
    <figure class="bg-yellow-300 rounded-xl p-8 text-center mb-6">
        <p class="text-black mb-0">Este contenido es antiguo y no aporta mucho al sitio.<br/>Muchos de los enlaces y las imágenes que acompañan al post ya no funcionan.</p>
    </figure>
            <p>Hace unos meses empezamos a trabajar con una empresa que tiene tiendas por toda España, la mayor parte del trabajo es y ha sido relacionado con el marketing, tanto <em>online</em> como <em>offline</em> pero ahora ha tocado la parte técnica, más concretamente en “mejorar” su programa de fidelización.</p>
<p>Actualmente cuentan con un programa de bonos los cuales se reparten en unas fechas determinadas del año. Para romper la estacionalidad decidimos crear unos bonos que se “consumirán” a través de una App. Salvo una serie de condiciones que nos exigió el cliente, algunas que no compartimos, nos aceptaron la creación de la app.</p>
<h3>Limpiando para mejorar</h3>
<p>El primer problema con el que nos encontramos fue su ERP, aunque bastante potente, estaba un poco limitado para extraer datos, además de que necesitaba un saneo de los mismos. Estamos hablando de una bbdd de aproximadamente 500.000 usuarios, la gran mayoría recurrentes y repartidos por mucha parte de la geografía española. Esa “limpieza” se ha estado llevando a cabo durante estos últimos meses y gracias a la empresa desarrolladora del ERP se ha podido mejorar su conexión con el exterior, con una serie de <strong>servicios web</strong> tanto para la gestión de usuarios, como para el consumo de bonos.</p>
<h3>El corazón de la app</h3>
<p>Una vez estaba resuelta la conexión, comenzamos con la creación de una API que “alimentaría” la propia app. Para ello decidimos usar… a ver si lo adivinas… pues si, <strong>drupal</strong> y más concretamente pensamos en la versión 8 ya que su desarrollo potenciando la omnicanalidad lo hace el más adecuado para ello, además de servirnos como banco de pruebas para el uso de esta nueva versión de nuestro <a href="http://geekia.es/tags/drupal">CMS favorito</a> </p>
<p>El desarrollo lo comenzamos con la versión 8.0.0, pero actualmente lo hemos migrado a la 8.2.0, con todo lo que ello ha <a href="https://www.drupal.org/docs/8/api/restful-web-services-api/restful-web-services-api-overview">conllevado</a>. Todos los servicios se han segurizado con OAuth 2.0, además del propio <em>basic_auth</em> del <em>core</em> de drupal. Desde el CMS se gestionan las ofertas que se mostrarán en la app así como la conexión con el gestor de notificaciones, para ello hemos usado <a href="https://parse.com/">parse</a>, y nos está dando muy buenos resultados.</p>
<p>Otra de las funcionalidades que se gestionan desde aquí, es la geoposición de las distintas tiendas que dispone el cliente, mediante la creación de un nodo específico y su correspondiente <em>service.</em></p>
<p>Drupal 8 nos ha permitido integrar a través de su API REST, todo lo necesario para poder servir los datos de forma correcta y segura.</p>
<h3>…y por fin, la app</h3>
<p>Para el desarrollo de la app hemos optado por un desarrollo híbrido y, aunque tenemos experiencia ya en <a href="http://ionicframework.com/">Ionic</a>, hemos elegido <a href="https://facebook.github.io/react-native/">React-Native</a>, a pesar de que solo hemos hecho un desarrollo (en <a href="http://uxspain.com/2016/">React</a>), su flexibilidad y potencia nos hizo creer que era la mejor opción. De momento, y salvo el cambio tan rápido de versiones que están teniendo, lo cual no está del todo mal, pensamos que la opción ha sido la más acertada.</p>
<p>Durante esta fase, todavía en desarrollo, se ha tenido que “experimentar” muchísimo, tanto que daría para un nuevo post, eso si, por si os puede interesar los módulos que estoy usando son estos:\
<code>"dependencies": {
"base-64": "^0.1.0",
"immutable": "^3.8.1",
"parse": "^1.9.2",
"react": "^15.3.2",
"react-native": "^0.34.1",
"react-native-checkbox-field": "^1.0.8",
"react-native-datepicker": "^1.3.2",
"react-native-extended-stylesheet": "^0.2.0",
"react-native-linear-gradient": "^1.5.4",
"react-native-maps": "^0.8.2",
"react-native-nav": "^1.1.4",
"react-native-push-notification": "^2.1.1",
"react-native-qr-barcode": "^0.6.4",
"react-native-radio-buttons": "^0.11.0",
"react-native-remote-push": "^1.0.3",
"react-native-router-flux": "^3.26.16",
"react-native-side-menu": "^0.19.0",
"react-native-swiper": "^1.4.5",
"react-native-vector-icons": "^2.1.0",
"react-redux": "^4.4.5",
"redux": "^3.6.0",
"redux-thunk": "^2.0.1"
}</code>\
De ellos, sin duda alguna el que más me ha parecido “magia” ha sido <a href="https://github.com/reactjs/redux">redux</a>… cómo he podido estar desarrollando sin conocer esta maravilla </p>
<p>Para esta parte del desarrollo cambiamos del IDE (o editor) que estábamos usando hasta ahora, <a href="https://netbeans.org/">NetBeans</a>, por <a href="https://atom.io/">Atom</a> con <a href="https://nuclide.io/">Nuclide</a> y ya se ha convertido en nuestro editor de código de cabecera… tranquilos, <a href="https://www.sublimetext.com/">SublimeText</a> todavía no lo he desinstalado y lo sigo usando para otros menesteres </p>
<p>El soporte que tiene Nuclide de React-Native es sin duda alguna mejor que en otros editores, lógico por una parte ya que ha sido desarrollado también por los mismos, <a href="https://code.facebook.com/projects/">Facebook</a></p>
<p>Una vez todo funcione junto, el flujo de la app deberá ser como esto:</p>
<p><a href="https://i1.wp.com/javiermaties.com/sipuedo/wp-content/uploads/2016/11/app.png"><img alt="Flujo de la app" src="https://i1.wp.com/javiermaties.com/sipuedo/wp-content/uploads/2016/11/app.png?resize=504%2C523"></a></p>
<p>Esperemos poder presentar el desarrollo muy pronto</p>
            <div class="md:flex md:justify-between pt-2 mt-4 border-t border-grey-lighter">
                <div>
                    <p>Post anterior:<br>
                        <a href="/sipuedo/2016/10/24/los-libros-digitales-en-ensenanza-en-andalucia-o-que-bien-se-lo-montan-las-editoriales/">
                            Los libros digitales en enseñanza en Andalucia, o que bien se lo montan las editoriales
                        </a>
                    </p>
                </div>
                <div class="md:text-right">
                    <p>
                        Post siguiente<br>
                        <a href="/sipuedo/2017/01/11/lo-que-hemos-hecho-en-2016-tecnicamente-hablando/">
                            Lo que hemos hecho en 2016 (técnicamente hablando)
                        </a>
                    </p>
                </div>
            </div>
        </div>
        <aside class="w-full lg:w-4/12 flex flex-col">
            <h3 class="text-xl mb-4">Tags</h3>
<ul class="list-inside">
    <li class="pb-5">
        <a class="text-black px-4 py-1 border-black border-2 rounded-full hover:text-white hover:bg-black hover:no-underline" href="/todo/tags/desarrollo/">#desarrollo</a>
    </li>
    <li class="pb-5">
        <a class="text-black px-4 py-1 border-black border-2 rounded-full hover:text-white hover:bg-black hover:no-underline" href="/todo/tags/drupal/">#drupal</a>
    </li>
    <li class="pb-5">
        <a class="text-black px-4 py-1 border-black border-2 rounded-full hover:text-white hover:bg-black hover:no-underline" href="/todo/tags/drupal8/">#drupal8</a>
    </li>
</ul>

        </aside>
    </div>
</article>



            </div>
        </div>
    </div>
	<footer
		class="flex flex-row flex-wrap w-full py-6 px-10 text-center border-t gap-y-6 gap-x-12 border-blue-gray-50 md:justify-between mt-6 text-base">
		
		<div>
			<p>
				2005–2024 Javier Matíes
				·
				Todo el contenido de esta web tiene licencia <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1"
					target="_blank" rel="license noopener noreferrer" class="underline inline-flex">CC BY 4.0<img
						style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
						src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="Logo CC"><img
						style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
						src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="Logo BY"></a>
			</p>
			
		</div>
		<p>
			Powered by <a class="underline" href="http://getpelican.com/">Pelican</a> & <a
			href="https://tailwindcss.com/" class="underline">Tailwindcss</a>
		</p>
	</footer>
</body>

</html>